<?php
session_start();
include 'db.php';
// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø©
if (!isset($_SESSION['signup_data'])) {
    header("Location: sign1.php"); // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
    exit();
}

if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $data = array_merge($_SESSION['signup_data'], $_POST);

    $mobile_number =$data['mobile_number'];
    $grade =  $data['grade'];
    $has_laptop=  $data['has_laptop'];

    $child_first_name = $_POST['child_first_name'];
    $child_last_name = $_POST['child_last_name'];
    $age = $_POST['age'];
    $parent_name = $_POST['parent_name'];
    $email = $_POST['email'];
    $password = $_POST['password'];

    // Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø¥Ø¯Ø±Ø§Ø¬
    $sql = "INSERT INTO user (mobile_number, grade, has_laptop, child_first_name, child_last_name, age, parent_name, email, password)
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)";

    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Prepared Statements Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù† SQL Injection
    $stmt = $conn->prepare($sql);
    $stmt->bind_param("sssssisss", $mobile_number, $grade, $has_laptop, $child_first_name, $child_last_name, $age, $parent_name, $email, $password);

    if ($stmt->execute()) {
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¢Ø®Ø± ID ØªÙ… Ø¥Ø¯Ø±Ø§Ø¬Ù‡
        $user_id = $stmt->insert_id;
        unset($_SESSION['signup_data']); // Ø­Ø°Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ®Ø²ÙŠÙ†

        // ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø©
        $_SESSION['user_id'] = $user_id;
        $_SESSION['email'] = $email;
        $_SESSION['logged_in'] = true;

        // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø£Ùˆ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        header("Location: sign3.php");
        exit();
    } else {
        echo "Error: " . $stmt->error;
    }

    $stmt->close();
    $conn->close();
}
?>

<?php include __DIR__ . '/head.html'; ?>
<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="sigg.css" />
    <style>
    
      input.text-input {
        background: transparent;
        border: none;
        width: 100%;
        height: 100%;
        font-family: inherit;
        font-size: 14px;
        color: #333;
        padding: 10px;
        box-sizing: border-box;
        outline: none;
      }
    </style>
  </head>
  <body>

    <div class="sign-in-page">
      <div class="overlap-wrapper">
        <div class="overlap">
          <div class="overlap-group">
         

            <div class="rectangle"></div>
            <div class="div"></div>
            <div class="rectangle-2"></div>
            <div class="rectangle-3"></div>
            <div class="cer">
              <div class="overlap-2">
                <div class="ellipse"></div>
                <div class="ellipse-2"></div>
              </div>
            </div>
            <div class="overlap-group-wrapper">
              <div class="overlap-3">
                <div class="ellipse-3"></div>
                <div class="ellipse-4"></div>
              </div>
            </div>
            <div class="rectangle-4"></div>
            <div class="div-wrapper">
              <div class="overlap-4">
                <div class="ellipse-5"></div>
                <div class="ellipse-6"></div>
              </div>
            </div>
            <div class="cer-2">
              <div class="overlap-5">
                <div class="ellipse-7"></div>
                <div class="ellipse-8"></div>
              </div>
            </div>

            
            <div class="text-wrapper">&lt; / &gt;</div>
            <div class="flex">
              <div class="overlap-6">
                <p class="flexible-scheduling">
                  Flexible scheduling makes it easy to fit into your family&#39;s routine, and every student earns a
                  recognized certification.
                </p>
                </div>
              <div class="rectangle-5"></div>
            </div>
            <div class="give">
              <div class="group">
                <p class="p">
                  Give your child a head start with expert-led coding lessons designed to spark creativity and build
                  real-world skills.
                </p>
              </div>
              <div class="rectangle-5"></div>
            </div>
            <div class="text-wrapper-2">&lt; / &gt;</div>
             <div class="game"></div>
                     <!-- SVG Ø§Ù„Ù†Ø¬Ù…Ø© -->
<div style="position: absolute; top: 250px; left: 115px; transform:  z-index: 10; width: 32px;">
 <svg width="97" height="97" viewBox="0 0 97 97" fill="none" xmlns="http://www.w3.org/2000/svg">
<path opacity="0.5" d="M52.8771 70.4261C53.5035 73.1299 54.037 75.4175 54.615 77.2161L27.8026 69.4359C27.6247 69.3833 27.164 69.1812 26.5294 67.512C25.907 65.8792 25.3412 63.4825 24.5329 59.9986L24.0479 57.9131C23.9401 57.4496 23.8337 57.0077 23.7286 56.5874L48.0271 63.3208L49.2557 64.016C50.9937 65.0062 51.3089 65.2366 51.5352 65.5518C51.7858 65.8994 51.9354 66.3844 52.4244 68.5022L52.8771 70.4261ZM39.0344 56.6359L18.7937 51.0301L17.565 50.3309C14.7116 48.7021 12.7837 47.5987 11.5308 46.5964C10.3305 45.6345 10.1243 45.0606 10.1082 44.5675C10.088 44.0542 10.2739 43.4075 11.4298 42.2516C12.618 41.0593 14.4651 39.6811 17.1811 37.6603L18.7977 36.4639C19.5576 35.8981 20.2487 35.3889 20.8267 34.8149L48.3302 42.7932L46.8833 43.8683C44.333 45.7638 42.2354 47.3199 40.8087 48.7506C39.3254 50.2379 38.2301 51.9152 38.3109 54.0694C38.3442 54.9703 38.5922 55.8503 39.0344 56.6359ZM51.03 39.3659L22.6899 31.1451C22.8003 30.5766 22.9041 29.9609 23.0011 29.2981L23.3284 27.1681C23.6397 25.1473 24.1004 23.3406 24.5895 21.8129C25.4503 19.1252 25.6726 18.7493 26.3193 18.3775C26.5941 18.2158 26.8568 18.1511 27.4065 18.2118C28.0774 18.2845 28.9383 18.527 30.4054 18.9554L53.8228 25.7454C53.5426 26.3436 53.3122 26.9687 53.1317 27.6208C52.5457 29.6295 52.1213 32.3697 51.5999 35.7526L51.2968 37.7249C51.1877 38.4282 51.1028 38.9576 51.03 39.3659Z" fill="#FFE8A3"/>
<path d="M67.0673 72.455C64.7555 75.0376 63.1712 76.7957 61.894 77.8627C60.6007 78.9378 60.1763 78.8287 60.0429 78.7923C59.8691 78.7398 59.4084 78.5337 58.7698 76.8645C58.1474 75.2316 57.5856 72.8349 56.7732 69.355L56.2882 67.2695C55.9123 65.6407 55.6011 64.2868 54.817 63.1955C54.0128 62.072 52.8447 61.4091 51.511 60.6493L51.2523 60.5078L49.8094 59.6833C46.952 58.0545 45.0281 56.9512 43.7752 55.9488C42.5748 54.9869 42.3647 54.413 42.3485 53.924C42.3283 53.4066 42.5183 52.764 43.6701 51.604C44.8584 50.4117 46.7095 49.0335 49.4255 47.0127L51.0381 45.8164C52.3193 44.8666 53.3984 44.0663 54.0936 42.874C54.7766 41.706 54.9828 40.3399 55.2414 38.6505L55.5688 36.5205C56.1225 32.9477 56.5065 30.4742 57.0076 28.7525C57.2905 27.7825 57.5613 27.2449 57.7877 26.9337C58.2242 27.0954 58.8102 27.3379 59.4973 27.6652C61.7255 28.7462 63.7897 30.1369 65.6285 31.7958L66.8895 32.9275L66.9461 32.98C67.5049 33.5018 68.0847 34.0007 68.684 34.4755C69.2516 34.9325 69.9021 35.2756 70.5998 35.4859C71.9093 35.8658 73.2632 35.6112 74.7223 35.3363L75.0335 35.2797L76.6501 34.9766C79.8592 34.3825 82.0053 33.9945 83.5452 33.9662C85.0245 33.9379 85.3357 34.2572 85.5014 34.4876C85.7358 34.8109 85.95 35.4414 85.5903 37.2117C85.2306 38.9738 84.4223 41.322 83.2461 44.717L82.551 46.7257C81.9932 48.3424 81.5405 49.6357 81.5931 50.9978C81.6456 52.372 82.1913 53.6087 82.8662 55.1365L83.7069 57.036C85.1215 60.2492 86.0955 62.464 86.5805 64.1575C87.0615 65.8347 86.9119 66.5137 86.6694 66.926C86.4673 67.2695 86.1076 67.6333 84.6486 67.8152C83.1128 68.0051 80.9505 67.9202 77.7212 67.7828L76.0883 67.7141L75.7812 67.698C74.2979 67.6333 72.9399 67.5767 71.6789 68.1304C70.4543 68.672 69.5287 69.7067 68.4658 70.899L68.2435 71.1455L67.0673 72.455Z" fill="#FFE8A3"/>
</svg>
</div>
             <p class="text-wrapper-3">Prepare Your Child for a Tech-Driven Future</p>
            <p class="fun-educational">Fun &amp; Educational Coding Classes for Ages 9â€“15</p>
            <p class="empower-your-child">
             Empower your child to become a tech superhero ðŸš€ enroll today! 
          </p>

           
            <div class="element">
              
   <div style="position: absolute; top: 165px; left: -105px; width: 30px; z-index: 10;">
  <svg width="39" height="39" viewBox="0 0 39 39" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.45983 24.4851H34.5562C34.977 24.4851 35.3554 24.7578 35.5125 25.174L38.9256 34.2204C38.9748 34.3508 39.0001 34.4901 39.0001 34.6307V35.4634C39.0001 36.0704 38.5386 36.5625 37.9693 36.5625H1.25642C0.687111 36.5625 0.225586 36.0705 0.225586 35.4634V34.6187C0.225586 34.4859 0.248133 34.3542 0.292236 34.23L3.49564 25.1956C3.64723 24.768 4.03113 24.4851 4.45983 24.4851Z" fill="#ADB8BC"/>
<path d="M4.65129 1.46741H34.4657C34.9698 1.46741 35.3785 1.87607 35.3785 2.38017V23.6054C35.3785 24.1095 34.9698 24.5182 34.4657 24.5182H4.65129C4.14719 24.5182 3.73853 24.1095 3.73853 23.6054V2.38017C3.73845 1.87607 4.14719 1.46741 4.65129 1.46741Z" fill="#C5CFD1"/>
<path d="M6.59174 5.17102H32.5252C33.0449 5.17102 33.4663 5.59233 33.4663 6.11212V21.5774C33.4663 22.0971 33.045 22.5185 32.5252 22.5185H6.59174C6.07202 22.5185 5.65063 22.0972 5.65063 21.5774V6.11212C5.65063 5.5924 6.07202 5.17102 6.59174 5.17102Z" fill="#C6DEF1"/>
<path d="M32.4211 4.22383C32.8768 4.22383 33.2463 3.85439 33.2463 3.39866C33.2463 2.94293 32.8768 2.57349 32.4211 2.57349C31.9654 2.57349 31.5959 2.94293 31.5959 3.39866C31.5959 3.85439 31.9654 4.22383 32.4211 4.22383Z" fill="#FF473E"/>
<path d="M29.9306 4.22383C30.3864 4.22383 30.7558 3.85439 30.7558 3.39866C30.7558 2.94293 30.3864 2.57349 29.9306 2.57349C29.4749 2.57349 29.1055 2.94293 29.1055 3.39866C29.1055 3.85439 29.4749 4.22383 29.9306 4.22383Z" fill="#D7F4F7"/>
<path d="M9.27028 29.8502L8.89292 30.9204C8.82627 31.1094 8.63356 31.2376 8.41601 31.2376H5.95109C5.61128 31.2376 5.37005 30.9354 5.47417 30.6401L5.85153 29.5699C5.91818 29.3808 6.1109 29.2526 6.32844 29.2526H8.79336C9.13317 29.2526 9.3744 29.5549 9.27028 29.8502ZM14.8646 29.2526H12.3718C12.1356 29.2526 11.9315 29.4032 11.882 29.614L11.6305 30.6843C11.5637 30.969 11.8014 31.2376 12.1204 31.2376H14.6131C14.8493 31.2376 15.0535 31.087 15.103 30.8761L15.3544 29.8059C15.4213 29.5212 15.1836 29.2526 14.8646 29.2526ZM27.5949 30.6843L27.3435 29.614C27.294 29.4032 27.0898 29.2526 26.8536 29.2526H24.3609C24.0419 29.2526 23.8042 29.5212 23.8711 29.8059L24.1225 30.8761C24.172 31.087 24.3762 31.2376 24.6124 31.2376H27.1051C27.4241 31.2376 27.6618 30.9691 27.5949 30.6843ZM21.392 30.7154L21.2243 29.6452C21.189 29.4199 20.9777 29.2526 20.7284 29.2526H18.4974C18.2482 29.2526 18.0368 29.4199 18.0015 29.6451L17.8335 30.7153C17.7903 30.9909 18.0245 31.2376 18.3295 31.2376H20.8961C21.201 31.2376 21.4352 30.991 21.392 30.7154ZM29.2432 34.3804L28.7655 33.278C28.7291 33.0459 28.5114 32.8735 28.2546 32.8735H11.3054C11.0486 32.8735 10.8309 33.0458 10.7945 33.2778L10.3166 34.3803C10.272 34.6642 10.5133 34.9183 10.8275 34.9183H28.7323C29.0465 34.9183 29.2877 34.6643 29.2432 34.3804ZM33.7512 30.6401L33.3739 29.5699C33.3072 29.3808 33.1145 29.2526 32.897 29.2526H30.432C30.0922 29.2526 29.851 29.5549 29.9551 29.8502L30.3325 30.9204C30.3991 31.1094 30.5919 31.2376 30.8094 31.2376H33.2743C33.6141 31.2376 33.8554 30.9353 33.7512 30.6401ZM9.81087 25.9898H7.57781C7.38068 25.9898 7.20617 26.1059 7.14577 26.2772L6.80391 27.2467C6.70961 27.5142 6.92814 27.788 7.23595 27.788H9.46901C9.66614 27.788 9.84065 27.6719 9.90106 27.5007L10.2429 26.5311C10.3373 26.2636 10.1188 25.9898 9.81087 25.9898ZM15.3111 25.9898H13.0528C12.8389 25.9898 12.6539 26.1262 12.609 26.3172L12.3812 27.2868C12.3206 27.5448 12.536 27.788 12.825 27.788H15.0833C15.2972 27.788 15.4822 27.6516 15.527 27.4606L15.7549 26.4911C15.8155 26.2331 15.6002 25.9898 15.3111 25.9898ZM26.8442 27.2868L26.6164 26.3172C26.5715 26.1262 26.3866 25.9898 26.1726 25.9898H23.9143C23.6253 25.9898 23.4099 26.2331 23.4705 26.4911L23.6984 27.4606C23.7432 27.6516 23.9282 27.788 24.1421 27.788H26.4004C26.6894 27.788 26.9048 27.5448 26.8442 27.2868ZM21.2247 27.315L21.0727 26.3455C21.0407 26.1414 20.8492 25.9899 20.6234 25.9899H18.6022C18.3765 25.9899 18.185 26.1414 18.1529 26.3455L18.0008 27.315C17.9616 27.5647 18.1738 27.7881 18.4501 27.7881H20.7754C21.0516 27.788 21.2638 27.5646 21.2247 27.315ZM32.4216 27.2467L32.0797 26.2772C32.0193 26.1059 31.8447 25.9898 31.6477 25.9898H29.4146C29.1068 25.9898 28.8883 26.2636 28.9826 26.5311L29.3244 27.5007C29.3848 27.672 29.5594 27.788 29.7565 27.788H31.9895C32.2973 27.788 32.5159 27.5142 32.4216 27.2467ZM18.5015 3.7901H20.3896C20.551 3.7901 20.7057 3.72601 20.8198 3.61193C20.9338 3.49785 20.9979 3.34313 20.9979 3.18179C20.9979 3.02046 20.9338 2.86574 20.8198 2.75166C20.7057 2.63758 20.551 2.57349 20.3896 2.57349H18.5015C18.3402 2.57349 18.1855 2.63758 18.0714 2.75166C17.9573 2.86574 17.8932 3.02046 17.8932 3.18179C17.8932 3.26168 17.909 3.34079 17.9395 3.4146C17.9701 3.4884 18.0149 3.55547 18.0714 3.61196C18.1279 3.66844 18.1949 3.71325 18.2687 3.74382C18.3426 3.77439 18.4217 3.79011 18.5015 3.7901Z" fill="#6F7782"/>
</svg>
</div>
              <div class="rectangle-6"></div>
              <div class="rectangle-7"></div>
              <div class="rectangle-8"></div>
              <div class="rectangle-9"></div>
            </div>
            <div class="text-wrapper-4">Student Details</div>
<form method="post" action="" style="all: unset;">
  <!-- Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© -->
  <div class="box">
    <div class="overlap-7">
      <input type="text" name="child_first_name" placeholder="Enter Childâ€™s First Name" class="text-input" required />
    </div>
  </div>
  <div class="box-4">
    <div class="overlap-7">
      <input type="text" name="child_last_name" placeholder="Enter Childâ€™s Last Name" class="text-input" required />
    </div>
  </div>
  <div class="box-5">
    <div class="overlap-7">
      <input type="text" name="age" placeholder="age" class="text-input" required />
    </div>
  </div>
  <div class="box-2">
    <div class="overlap-8">
      <input type="text" name="parent_name" placeholder="Enter Parentâ€™s Name" class="text-input" required />
    </div>
  </div>
  <div class="box-3">
    <div class="overlap-9">
      <input type="email" name="email" placeholder="Enter Email ID" class="text-input" required />
    </div>
  </div>
  <div class="box-6">
    <div class="overlap-7">
      <input type="password" name="password" placeholder="Enter Password" class="text-input" required />
    </div>
  </div>

  <!-- Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†ÙØ³ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ ØªØ¨Ø¹Ùƒ -->
  <div class="SYFT">
    <div class="start-your-free-wrapper">
      <button type="submit" style="all: unset; width: 100%; height: 100%; display: block; cursor: pointer;">
        <div class="start-your-free">Confirm</div>
      </button>
    </div>
  </div>
</form>

          </div>
        </div>
      </div>
    </div>
  </body>
</html>
